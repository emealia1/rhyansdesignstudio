(function(ba,bb,bc){'use strict';bb.module('ngAnimate',['ng']).config(['$provide','$animateProvider',function(R,S){var T=bb.noop;var U=bb.forEach;var V=S.$$selectors;var W=1;var X='$$ngAnimateState';var Y='ng-animate';var Z={running:true};function extractElementNode(a){for(var i=0;i<a.length;i++){var b=a[i];if(b.nodeType==W){return b}}}function isMatchingElement(a,b){return extractElementNode(a)==extractElementNode(b)}R.decorator('$animate',['$delegate','$injector','$sniffer','$rootElement','$timeout','$rootScope','$document',function(z,A,B,C,D,E,F){C.data(X,Z);E.$$postDigest(function(){E.$$postDigest(function(){Z.running=false})});var G=S.classNameFilter();var H=!G?function(){return true}:function(a){return G.test(a)};function lookup(a){if(a){var b=[],flagMap={},classes=a.substr(1).split('.');if(B.transitions||B.animations){classes.push('')}for(var i=0;i<classes.length;i++){var c=classes[i],selectorFactoryName=V[c];if(selectorFactoryName&&!flagMap[c]){b.push(A.get(selectorFactoryName));flagMap[c]=true}}return b}}return{enter:function(a,b,c,d){this.enabled(false,a);z.enter(a,b,c);E.$$postDigest(function(){performAnimation('enter','ng-enter',a,b,c,T,d)})},leave:function(a,b){cancelChildAnimations(a);this.enabled(false,a);E.$$postDigest(function(){performAnimation('leave','ng-leave',a,null,null,function(){z.leave(a)},b)})},move:function(a,b,c,d){cancelChildAnimations(a);this.enabled(false,a);z.move(a,b,c);E.$$postDigest(function(){performAnimation('move','ng-move',a,b,c,T,d)})},addClass:function(a,b,c){performAnimation('addClass',b,a,null,null,function(){z.addClass(a,b)},c)},removeClass:function(a,b,c){performAnimation('removeClass',b,a,null,null,function(){z.removeClass(a,b)},c)},enabled:function(a,b){switch(arguments.length){case 2:if(a){cleanup(b)}else{var c=b.data(X)||{};c.disabled=true;b.data(X,c)}break;case 1:Z.disabled=!a;break;default:a=!Z.disabled;break}return!!a}};function performAnimation(j,k,l,m,n,o,p){var q,classes,node=extractElementNode(l);if(node){q=node.className;classes=q+' '+k}if(!node||!H(classes)){fireDOMOperation();closeAnimation();return}var r=(' '+classes).replace(/\s+/g,'.');if(!m){m=n?n.parent():l.parent()}var s=lookup(r);var t=j=='addClass'||j=='removeClass';var u=l.data(X)||{};if(animationsDisabled(l,m)||s.length===0){fireDOMOperation();closeAnimation();return}var v=[];var w=t?!u.disabled&&(!u.running||!u.structural):true;if(w){U(s,function(a){if(!a.allowCancel||a.allowCancel(l,j,k)){var b,afterFn=a[j];if(j=='leave'){b=afterFn;afterFn=null}else{b=a['before'+j.charAt(0).toUpperCase()+j.substr(1)]}v.push({before:b,after:afterFn})}})}if(v.length===0){fireDOMOperation();fireDoneCallbackAsync();return}var x=' '+q+' ';if(u.running){D.cancel(u.closeAnimationTimeout);cleanup(l);cancelAnimations(u.animations);if(u.beforeComplete){(u.done||T)(true)}else if(t&&!u.structural){x=u.event=='removeClass'?x.replace(u.className,''):x+u.className+' '}}var y=' '+k+' ';if((j=='addClass'&&x.indexOf(y)>=0)||(j=='removeClass'&&x.indexOf(y)==-1)){fireDOMOperation();fireDoneCallbackAsync();return}l.addClass(Y);l.data(X,{running:true,event:j,className:k,structural:!t,animations:v,done:onBeforeAnimationsComplete});invokeRegisteredAnimationFns(v,'before',onBeforeAnimationsComplete);function onBeforeAnimationsComplete(a){fireDOMOperation();if(a===true){closeAnimation();return}var b=l.data(X);if(b){b.done=closeAnimation;l.data(X,b)}invokeRegisteredAnimationFns(v,'after',closeAnimation)}function invokeRegisteredAnimationFns(e,f,g){var h=f+'End';U(e,function(a,b){var c=function(){progress(b,f)};if(f=='before'&&(j=='enter'||j=='move')){c();return}if(a[f]){a[h]=t?a[f](l,k,c):a[f](l,c)}else{c()}});function progress(a,b){var c=b+'Complete';var d=e[a];d[c]=true;(d[h]||T)();for(var i=0;i<e.length;i++){if(!e[i][c])return}g()}}function fireDoneCallbackAsync(){p&&D(p,0,false)}function fireDOMOperation(){if(!fireDOMOperation.hasBeenRun){fireDOMOperation.hasBeenRun=true;o()}}function closeAnimation(){if(!closeAnimation.hasBeenRun){closeAnimation.hasBeenRun=true;var a=l.data(X);if(a){if(t){cleanup(l)}else{a.closeAnimationTimeout=D(function(){cleanup(l)},0,false);l.data(X,a)}}fireDoneCallbackAsync()}}}function cancelChildAnimations(c){var d=extractElementNode(c);U(d.querySelectorAll('.'+Y),function(a){a=bb.element(a);var b=a.data(X);if(b){cancelAnimations(b.animations);cleanup(a)}})}function cancelAnimations(b){var c=true;U(b,function(a){if(!b.beforeComplete){(a.beforeEnd||T)(c)}if(!b.afterComplete){(a.afterEnd||T)(c)}})}function cleanup(a){if(isMatchingElement(a,C)){if(!Z.disabled){Z.running=false;Z.structural=false}}else{a.removeClass(Y);a.removeData(X)}}function animationsDisabled(a,b){if(Z.disabled)return true;if(isMatchingElement(a,C)){return Z.disabled||Z.running}do{if(b.length===0)break;var c=isMatchingElement(b,C);var d=c?Z:b.data(X);var e=d&&(!!d.disabled||!!d.running);if(c||e){return e}if(c)return true}while(b=b.parent());return true}}]);S.register('',['$window','$sniffer','$timeout',function(w,x,y){var z='',TRANSITION_PROP,TRANSITIONEND_EVENT,ANIMATION_PROP,ANIMATIONEND_EVENT;if(ba.ontransitionend===bc&&ba.onwebkittransitionend!==bc){z='-webkit-';TRANSITION_PROP='WebkitTransition';TRANSITIONEND_EVENT='webkitTransitionEnd transitionend'}else{TRANSITION_PROP='transition';TRANSITIONEND_EVENT='transitionend'}if(ba.onanimationend===bc&&ba.onwebkitanimationend!==bc){z='-webkit-';ANIMATION_PROP='WebkitAnimation';ANIMATIONEND_EVENT='webkitAnimationEnd animationend'}else{ANIMATION_PROP='animation';ANIMATIONEND_EVENT='animationend'}var A='Duration';var B='Property';var C='Delay';var D='IterationCount';var E='$$ngAnimateKey';var F='$$ngAnimateCSS3Data';var G=3;var H=1.5;var I=1000;var J=0;var K={};var L=0;var M=[];var N=[];var O;var P=0;var Q=false;function afterReflow(d,e){y.cancel(O);M.push(e);var f=extractElementNode(d);d=bb.element(f);N.push(d);var g=d.data(F);P=Math.max(P,(g.maxDelay+g.maxDuration)*H*I);g.animationCount=J;O=y(function(){U(M,function(a){a()});var b=[];var c=J;U(N,function(a){b.push(a)});y(function(){closeAllAnimations(b,c);b=null},P,false);M=[];N=[];O=null;K={};P=0;J++},10,false)}function closeAllAnimations(c,d){U(c,function(a){var b=a.data(F);if(b&&b.animationCount==d){(b.closeAnimationFn||T)()}})}function getElementAnimationDetails(d,e){var f=e?K[e]:null;if(!f){var g=0;var h=0;var i=0;var j=0;var k;var l;var m;var n;U(d,function(a){if(a.nodeType==W){var b=w.getComputedStyle(a)||{};m=b[TRANSITION_PROP+A];g=Math.max(parseMaxTime(m),g);n=b[TRANSITION_PROP+B];k=b[TRANSITION_PROP+C];h=Math.max(parseMaxTime(k),h);l=b[ANIMATION_PROP+C];j=Math.max(parseMaxTime(l),j);var c=parseMaxTime(b[ANIMATION_PROP+A]);if(c>0){c*=parseInt(b[ANIMATION_PROP+D],10)||1}i=Math.max(c,i)}});f={total:0,transitionPropertyStyle:n,transitionDurationStyle:m,transitionDelayStyle:k,transitionDelay:h,transitionDuration:g,animationDelayStyle:l,animationDelay:j,animationDuration:i};if(e){K[e]=f}}return f}function parseMaxTime(b){var c=0;var d=bb.isString(b)?b.split(/\s*,\s*/):[];U(d,function(a){c=Math.max(parseFloat(a)||0,c)});return c}function getCacheKey(a){var b=a.parent();var c=b.data(E);if(!c){b.data(E,++L);c=L}return c+'-'+extractElementNode(a).className}function animateSetup(b,c){var d=getCacheKey(b);var e=d+' '+c;var f={};var g=K[e]?++K[e].total:0;if(g>0){var h=c+'-stagger';var j=d+' '+h;var k=!K[j];k&&b.addClass(h);f=getElementAnimationDetails(b,j);k&&b.removeClass(h)}b.addClass(c);var l=getElementAnimationDetails(b,e);var m=Math.max(l.transitionDelay,l.animationDelay);var n=Math.max(l.transitionDuration,l.animationDuration);if(n===0){b.removeClass(c);return false}var o='';l.transitionDuration>0?blockTransitions(b):blockKeyframeAnimations(b);U(c.split(' '),function(a,i){o+=(i>0?' ':'')+a+'-active'});b.data(F,{className:c,activeClassName:o,maxDuration:n,maxDelay:m,classes:c+' '+o,timings:l,stagger:f,ii:g});return true}function blockTransitions(a){extractElementNode(a).style[TRANSITION_PROP+B]='none'}function blockKeyframeAnimations(a){extractElementNode(a).style[ANIMATION_PROP]='none 0s'}function unblockTransitions(a){var b=TRANSITION_PROP+B;var c=extractElementNode(a);if(c.style[b]&&c.style[b].length>0){c.style[b]=''}}function unblockKeyframeAnimations(a){var b=ANIMATION_PROP;var c=extractElementNode(a);if(c.style[b]&&c.style[b].length>0){c.style[b]=''}}function animateRun(e,f,g){var h=e.data(F);var j=extractElementNode(e);if(j.className.indexOf(f)==-1||!h){g();return}var k=h.timings;var l=h.stagger;var m=h.maxDuration;var n=h.activeClassName;var o=Math.max(k.transitionDelay,k.animationDelay)*I;var p=Date.now();var q=ANIMATIONEND_EVENT+' '+TRANSITIONEND_EVENT;var r=h.ii;var s='',appliedStyles=[];if(k.transitionDuration>0){var t=k.transitionPropertyStyle;if(t.indexOf('all')==-1){s+=z+'transition-property: '+t+';';s+=z+'transition-duration: '+k.transitionDurationStyle+';';appliedStyles.push(z+'transition-property');appliedStyles.push(z+'transition-duration')}}if(r>0){if(l.transitionDelay>0&&l.transitionDuration===0){var u=k.transitionDelayStyle;s+=z+'transition-delay: '+prepareStaggerDelay(u,l.transitionDelay,r)+'; ';appliedStyles.push(z+'transition-delay')}if(l.animationDelay>0&&l.animationDuration===0){s+=z+'animation-delay: '+prepareStaggerDelay(k.animationDelayStyle,l.animationDelay,r)+'; ';appliedStyles.push(z+'animation-delay')}}if(appliedStyles.length>0){var v=j.getAttribute('style')||'';j.setAttribute('style',v+' '+s)}e.on(q,onAnimationProgress);e.addClass(n);h.closeAnimationFn=function(){onEnd();g()};return onEnd;function onEnd(a){e.off(q,onAnimationProgress);e.removeClass(n);animateClose(e,f);var b=extractElementNode(e);for(var i in appliedStyles){b.style.removeProperty(appliedStyles[i])}}function onAnimationProgress(a){a.stopPropagation();var b=a.originalEvent||a;var c=b.$manualTimeStamp||b.timeStamp||Date.now();var d=parseFloat(b.elapsedTime.toFixed(G));if(Math.max(c-p,0)>=o&&d>=m){g()}}}function prepareStaggerDelay(b,c,d){var e='';U(b.split(','),function(a,i){e+=(i>0?',':'')+(d*c+parseInt(a,10))+'s'});return e}function animateBefore(b,c){if(animateSetup(b,c)){return function(a){a&&animateClose(b,c)}}}function animateAfter(a,b,c){if(a.data(F)){return animateRun(a,b,c)}else{animateClose(a,b);c()}}function animate(b,c,d){var e=animateBefore(b,c);if(!e){d();return}var f=e;afterReflow(b,function(){unblockTransitions(b);unblockKeyframeAnimations(b);f=animateAfter(b,c,d)});return function(a){(f||T)(a)}}function animateClose(a,b){a.removeClass(b);a.removeData(F)}return{allowCancel:function(b,c,d){var e=(b.data(F)||{}).classes;if(!e||['enter','leave','move'].indexOf(c)>=0){return true}var f=b.parent();var g=bb.element(extractElementNode(b).cloneNode());g.attr('style','position:absolute; top:-9999px; left:-9999px');g.removeAttr('id');g.empty();U(e.split(' '),function(a){g.removeClass(a)});var h=c=='addClass'?'-add':'-remove';g.addClass(suffixClasses(d,h));f.append(g);var i=getElementAnimationDetails(g);g.remove();return Math.max(i.transitionDuration,i.animationDuration)>0},enter:function(a,b){return animate(a,'ng-enter',b)},leave:function(a,b){return animate(a,'ng-leave',b)},move:function(a,b){return animate(a,'ng-move',b)},beforeAddClass:function(a,b,c){var d=animateBefore(a,suffixClasses(b,'-add'));if(d){afterReflow(a,function(){unblockTransitions(a);unblockKeyframeAnimations(a);c()});return d}c()},addClass:function(a,b,c){return animateAfter(a,suffixClasses(b,'-add'),c)},beforeRemoveClass:function(a,b,c){var d=animateBefore(a,suffixClasses(b,'-remove'));if(d){afterReflow(a,function(){unblockTransitions(a);unblockKeyframeAnimations(a);c()});return d}c()},removeClass:function(a,b,c){return animateAfter(a,suffixClasses(b,'-remove'),c)}};function suffixClasses(b,c){var d='';b=bb.isArray(b)?b:b.split(/\s+/);U(b,function(a,i){if(a&&a.length>0){d+=(i>0?' ':'')+a+c}});return d}}])}])})(window,window.angular);