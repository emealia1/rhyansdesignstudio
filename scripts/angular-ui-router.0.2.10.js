if(typeof module!=="undefined"&&typeof exports!=="undefined"&&module.exports===exports){module.exports='ui.router'}(function(H,I,J){'use strict';var K=I.isDefined,isFunction=I.isFunction,isString=I.isString,isObject=I.isObject,isArray=I.isArray,forEach=I.forEach,extend=I.extend,copy=I.copy;function inherit(a,b){return extend(new(extend(function(){},{prototype:a}))(),b)}function merge(d){forEach(arguments,function(c){if(c!==d){forEach(c,function(a,b){if(!d.hasOwnProperty(b))d[b]=a})}});return d}function ancestors(a,b){var c=[];for(var n in a.path){if(a.path[n]!==b.path[n])break;c.push(a.path[n])}return c}function keys(c){if(Object.keys){return Object.keys(c)}var d=[];I.forEach(c,function(a,b){d.push(b)});return d}function arraySearch(a,b){if(Array.prototype.indexOf){return a.indexOf(b,Number(arguments[2])||0)}var c=a.length>>>0,from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0)from+=c;for(;from<c;from++){if(from in a&&a[from]===b)return from}return-1}function inheritParams(a,b,c,d){var e=ancestors(c,d),parentParams,inherited={},inheritList=[];for(var i in e){if(!e[i].params||!e[i].params.length)continue;parentParams=e[i].params;for(var j in parentParams){if(arraySearch(inheritList,parentParams[j])>=0)continue;inheritList.push(parentParams[j]);inherited[parentParams[j]]=a[parentParams[j]]}}return extend({},inherited,b)}function normalize(c,d){var e={};forEach(c,function(a){var b=d[a];e[a]=(b!=null)?String(b):null});return e}function equalForKeys(a,b,c){if(!c){c=[];for(var n in a)c.push(n)}for(var i=0;i<c.length;i++){var k=c[i];if(a[k]!=b[k])return false}return true}function filterByKeys(b,c){var d={};forEach(b,function(a){d[a]=c[a]});return d}I.module('ui.router.util',['ng']);I.module('ui.router.router',['ui.router.util']);I.module('ui.router.state',['ui.router.router','ui.router.util']);I.module('ui.router',['ui.router.state']);I.module('ui.router.compat',['ui.router']);$Resolve.$inject=['$q','$injector'];function $Resolve(o,p){var q=1,VISIT_DONE=2,NOTHING={},NO_DEPENDENCIES=[],NO_LOCALS=NOTHING,NO_PARENT=extend(o.when(NOTHING),{$$promises:NOTHING,$$values:NOTHING});this.study=function(m){if(!isObject(m))throw new Error("'invocables' must be an object");var n=[],cycle=[],visited={};function visit(b,c){if(visited[c]===VISIT_DONE)return;cycle.push(c);if(visited[c]===q){cycle.splice(0,cycle.indexOf(c));throw new Error("Cyclic dependency: "+cycle.join(" -> "));}visited[c]=q;if(isString(b)){n.push(c,[function(){return p.get(b)}],NO_DEPENDENCIES)}else{var d=p.annotate(b);forEach(d,function(a){if(a!==c&&m.hasOwnProperty(a))visit(m[a],a)});n.push(c,b,d)}cycle.pop();visited[c]=VISIT_DONE}forEach(m,visit);m=cycle=visited=null;function isResolve(a){return isObject(a)&&a.then&&a.$$promises}return function(h,j,k){if(isResolve(h)&&k===J){k=j;j=h;h=null}if(!h)h=NO_LOCALS;else if(!isObject(h)){throw new Error("'locals' must be an object");}if(!j)j=NO_PARENT;else if(!isResolve(j)){throw new Error("'parent' must be a promise returned by $resolve.resolve()");}var l=o.defer(),result=l.promise,promises=result.$$promises={},values=extend({},h),wait=1+n.length/3,merged=false;function done(){if(!--wait){if(!merged)merge(values,j.$$values);result.$$values=values;result.$$promises=true;l.resolve(values)}}function fail(a){result.$$failure=a;l.reject(a)}if(K(j.$$failure)){fail(j.$$failure);return result}if(j.$$values){merged=merge(values,j.$$values);done()}else{extend(promises,j.$$promises);j.then(done,fail)}for(var i=0,ii=n.length;i<ii;i+=3){if(h.hasOwnProperty(n[i]))done();else invoke(n[i],n[i+1],n[i+2])}function invoke(c,d,f){var g=o.defer(),waitParams=0;function onfailure(a){g.reject(a);fail(a)}forEach(f,function(b){if(promises.hasOwnProperty(b)&&!h.hasOwnProperty(b)){waitParams++;promises[b].then(function(a){values[b]=a;if(!(--waitParams))proceed()},onfailure)}});if(!waitParams)proceed();function proceed(){if(K(result.$$failure))return;try{g.resolve(p.invoke(d,k,values));g.promise.then(function(a){values[c]=a;done()},onfailure)}catch(e){onfailure(e)}}promises[c]=g.promise}return result}};this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}I.module('ui.router.util').service('$resolve',$Resolve);$TemplateFactory.$inject=['$http','$templateCache','$injector'];function $TemplateFactory(d,e,f){this.fromConfig=function(a,b,c){return(K(a.template)?this.fromString(a.template,b):K(a.templateUrl)?this.fromUrl(a.templateUrl,b):K(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null)};this.fromString=function(a,b){return isFunction(a)?a(b):a};this.fromUrl=function(b,c){if(isFunction(b))b=b(c);if(b==null)return null;else return d.get(b,{cache:e}).then(function(a){return a.data})};this.fromProvider=function(a,b,c){return f.invoke(a,null,c||{params:b})}}I.module('ui.router.util').service('$templateFactory',$TemplateFactory);function UrlMatcher(b){var c=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,names={},compiled='^',last=0,m,segments=this.segments=[],params=this.params=[];function addParameter(a){if(!/^\w+(-+\w+)*$/.test(a))throw new Error("Invalid parameter name '"+a+"' in pattern '"+b+"'");if(names[a])throw new Error("Duplicate parameter name '"+a+"' in pattern '"+b+"'");names[a]=true;params.push(a)}function quoteRegExp(a){return a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}this.source=b;var d,regexp,segment;while((m=c.exec(b))){d=m[2]||m[3];regexp=m[4]||(m[1]=='*'?'.*':'[^/]*');segment=b.substring(last,m.index);if(segment.indexOf('?')>=0)break;compiled+=quoteRegExp(segment)+'('+regexp+')';addParameter(d);segments.push(segment);last=c.lastIndex}segment=b.substring(last);var i=segment.indexOf('?');if(i>=0){var e=this.sourceSearch=segment.substring(i);segment=segment.substring(0,i);this.sourcePath=b.substring(0,last+i);forEach(e.substring(1).split(/[&?]/),addParameter)}else{this.sourcePath=b;this.sourceSearch=''}compiled+=quoteRegExp(segment)+'$';segments.push(segment);this.regexp=new RegExp(compiled);this.prefix=segments[0]}UrlMatcher.prototype.concat=function(a){return new UrlMatcher(this.sourcePath+a+this.sourceSearch)};UrlMatcher.prototype.toString=function(){return this.source};UrlMatcher.prototype.exec=function(a,b){var m=this.regexp.exec(a);if(!m)return null;var c=this.params,nTotal=c.length,nPath=this.segments.length-1,values={},i;if(nPath!==m.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;i<nPath;i++)values[c[i]]=m[i+1];for(;i<nTotal;i++)values[c[i]]=b[c[i]];return values};UrlMatcher.prototype.parameters=function(){return this.params};UrlMatcher.prototype.format=function(a){var b=this.segments,params=this.params;if(!a)return b.join('');var c=b.length-1,nTotal=params.length,result=b[0],i,search,value;for(i=0;i<c;i++){value=a[params[i]];if(value!=null)result+=encodeURIComponent(value);result+=b[i+1]}for(;i<nTotal;i++){value=a[params[i]];if(value!=null){result+=(search?'&':'?')+params[i]+'='+encodeURIComponent(value);search=true}}return result};function $UrlMatcherFactory(){this.compile=function(a){return new UrlMatcher(a)};this.isMatcher=function(o){return isObject(o)&&isFunction(o.exec)&&isFunction(o.format)&&isFunction(o.concat)};this.$get=function(){return this}}I.module('ui.router.util').provider('$urlMatcherFactory',$UrlMatcherFactory);$UrlRouterProvider.$inject=['$urlMatcherFactoryProvider'];function $UrlRouterProvider(j){var k=[],otherwise=null;function regExpPrefix(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return(b!=null)?b[1].replace(/\\(.)/g,"$1"):''}function interpolate(b,c){return b.replace(/\$(\$|\d{1,2})/,function(m,a){return c[a==='$'?0:Number(a)]})}this.rule=function(a){if(!isFunction(a))throw new Error("'rule' must be a function");k.push(a);return this};this.otherwise=function(a){if(isString(a)){var b=a;a=function(){return b}}else if(!isFunction(a))throw new Error("'rule' must be a function");otherwise=a;return this};function handleIfMatch(a,b,c){if(!c)return false;var d=a.invoke(b,b,{$match:c});return K(d)?d:true}this.when=function(e,f){var g,handlerIsString=isString(f);if(isString(e))e=j.compile(e);if(!handlerIsString&&!isFunction(f)&&!isArray(f))throw new Error("invalid 'handler' in when()");var h={matcher:function(c,d){if(handlerIsString){g=j.compile(d);d=['$match',function(a){return g.format(a)}]}return extend(function(a,b){return handleIfMatch(a,d,c.exec(b.path(),b.search()))},{prefix:isString(c.prefix)?c.prefix:''})},regex:function(c,d){if(c.global||c.sticky)throw new Error("when() RegExp must not be global or sticky");if(handlerIsString){g=d;d=['$match',function(a){return interpolate(g,a)}]}return extend(function(a,b){return handleIfMatch(a,d,c.exec(b.path()))},{prefix:regExpPrefix(c)})}};var i={matcher:j.isMatcher(e),regex:e instanceof RegExp};for(var n in i){if(i[n]){return this.rule(h[n](e,f))}}throw new Error("invalid 'what' in when()");};this.$get=['$location','$rootScope','$injector',function(d,e,f){function update(c){if(c&&c.defaultPrevented)return;function check(a){var b=a(f,d);if(b){if(isString(b))d.replace().url(b);return true}return false}var n=k.length,i;for(i=0;i<n;i++){if(check(k[i]))return}if(otherwise)check(otherwise)}e.$on('$locationChangeSuccess',update);return{sync:function(){update()}}}]}I.module('ui.router.router').provider('$urlRouter',$UrlRouterProvider);$StateProvider.$inject=['$urlRouterProvider','$urlMatcherFactoryProvider','$locationProvider'];function $StateProvider(C,D,E){var F,states={},$state,queue={},abstractKey='abstract';var G={parent:function(a){if(K(a.parent)&&a.parent)return findState(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?findState(b[1]):F},data:function(a){if(a.parent&&a.parent.data){a.data=a.self.data=extend({},a.parent.data,a.data)}return a.data},url:function(a){var b=a.url;if(isString(b)){if(b.charAt(0)=='^'){return D.compile(b.substring(1))}return(a.parent.navigable||F).url.concat(b)}if(D.isMatcher(b)||b==null){return b}throw new Error("Invalid url '"+b+"' in state '"+a+"'");},navigable:function(a){return a.url?a:(a.parent?a.parent.navigable:null)},params:function(a){if(!a.params){return a.url?a.url.parameters():a.parent.params}if(!isArray(a.params))throw new Error("Invalid params in state '"+a+"'");if(a.url)throw new Error("Both params and url specicified in state '"+a+"'");return a.params},views:function(c){var d={};forEach(K(c.views)?c.views:{'':c},function(a,b){if(b.indexOf('@')<0)b+='@'+c.parent.name;d[b]=a});return d},ownParams:function(b){if(!b.parent){return b.params}var c={};forEach(b.params,function(p){c[p]=true});forEach(b.parent.params,function(p){if(!c[p]){throw new Error("Missing required parameter '"+p+"' in state '"+b.name+"'");}c[p]=false});var d=[];forEach(c,function(a,p){if(a)d.push(p)});return d},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?extend({},a.parent.includes):{};b[a.name]=true;return b},$delegates:{}};function isRelative(a){return a.indexOf(".")===0||a.indexOf("^")===0}function findState(a,b){var c=isString(a),name=c?a:a.name,path=isRelative(name);if(path){if(!b)throw new Error("No reference point given for path '"+name+"'");var d=name.split("."),i=0,pathLength=d.length,current=b;for(;i<pathLength;i++){if(d[i]===""&&i===0){current=b;continue}if(d[i]==="^"){if(!current.parent)throw new Error("Path '"+name+"' not valid for state '"+b.name+"'");current=current.parent;continue}break}d=d.slice(i).join(".");name=current.name+(current.name&&d?".":"")+d}var e=states[name];if(e&&(c||(!c&&(e===a||e.self===a)))){return e}return J}function queueState(a,b){if(!queue[a]){queue[a]=[]}queue[a].push(b)}function registerState(c){c=inherit(c,{self:c,resolve:c.resolve||{},toString:function(){return this.name}});var d=c.name;if(!isString(d)||d.indexOf('@')>=0)throw new Error("State must have a valid name");if(states.hasOwnProperty(d))throw new Error("State '"+d+"'' is already defined");var e=(d.indexOf('.')!==-1)?d.substring(0,d.lastIndexOf('.')):(isString(c.parent))?c.parent:'';if(e&&!states[e]){return queueState(e,c.self)}for(var f in G){if(isFunction(G[f]))c[f]=G[f](c,G.$delegates[f])}states[d]=c;if(!c[abstractKey]&&c.url){C.when(c.url,['$match','$stateParams',function(a,b){if($state.$current.navigable!=c||!equalForKeys(a,b)){$state.transitionTo(c,a,{location:false})}}])}if(queue[d]){for(var i=0;i<queue[d].length;i++){registerState(queue[d][i])}}return c}function isGlob(a){return a.indexOf('*')>-1}function doesStateMatchGlob(a){var b=a.split('.'),segments=$state.$current.name.split('.');if(b[0]==='**'){segments=segments.slice(segments.indexOf(b[1]));segments.unshift('**')}if(b[b.length-1]==='**'){segments.splice(segments.indexOf(b[b.length-2])+1,Number.MAX_VALUE);segments.push('**')}if(b.length!=segments.length){return false}for(var i=0,l=b.length;i<l;i++){if(b[i]==='*'){segments[i]='*'}}return segments.join('')===b.join('')}F=registerState({name:'',url:'^',views:null,'abstract':true});F.navigable=null;this.decorator=decorator;function decorator(a,b){if(isString(a)&&!K(b)){return G[a]}if(!isFunction(b)||!isString(a)){return this}if(G[a]&&!G.$delegates[a]){G.$delegates[a]=G[a]}G[a]=b;return this}this.state=state;function state(a,b){if(isObject(a))b=a;else b.name=a;registerState(b);return this}this.$get=$get;$get.$inject=['$rootScope','$q','$view','$injector','$resolve','$stateParams','$location','$urlRouter','$browser'];function $get(n,o,p,q,r,s,t,u,v){var w=o.reject(new Error('transition superseded'));var x=o.reject(new Error('transition prevented'));var y=o.reject(new Error('transition aborted'));var z=o.reject(new Error('transition failed'));var A=t.url();var B=v.baseHref();function syncUrl(){if(t.url()!==A){t.url(A);t.replace()}}F.locals={resolve:null,globals:{$stateParams:{}}};$state={params:{},current:F.self,$current:F,transition:null};$state.reload=function reload(){$state.transitionTo($state.current,s,{reload:true,inherit:false,notify:false})};$state.go=function go(a,b,c){return this.transitionTo(a,b,extend({inherit:true,relative:$state.$current},c))};$state.transitionTo=function transitionTo(b,c,d){c=c||{};d=extend({location:true,inherit:false,relative:null,notify:true,reload:false,$retry:false},d||{});var e=$state.$current,fromParams=$state.params,fromPath=e.path;var f,toState=findState(b,d.relative);if(!K(toState)){var g={to:b,toParams:c,options:d};f=n.$broadcast('$stateNotFound',g,e.self,fromParams);if(f.defaultPrevented){syncUrl();return y}if(f.retry){if(d.$retry){syncUrl();return z}var h=$state.transition=o.when(f.retry);h.then(function(){if(h!==$state.transition)return w;g.options.$retry=true;return $state.transitionTo(g.to,g.toParams,g.options)},function(){return y});syncUrl();return h}b=g.to;c=g.toParams;d=g.options;toState=findState(b,d.relative);if(!K(toState)){if(d.relative)throw new Error("Could not resolve '"+b+"' from state '"+d.relative+"'");throw new Error("No such state '"+b+"'");}}if(toState[abstractKey])throw new Error("Cannot transition to abstract state '"+b+"'");if(d.inherit)c=inheritParams(s,c||{},$state.$current,toState);b=toState;var i=b.path;var j,state,locals=F.locals,toLocals=[];for(j=0,state=i[j];state&&state===fromPath[j]&&equalForKeys(c,fromParams,state.ownParams)&&!d.reload;j++,state=i[j]){locals=toLocals[j]=state.locals}if(shouldTriggerReload(b,e,locals,d)){if(b.self.reloadOnSearch!==false)syncUrl();$state.transition=null;return o.when($state.current)}c=normalize(b.params,c||{});if(d.notify){f=n.$broadcast('$stateChangeStart',b.self,c,e.self,fromParams);if(f.defaultPrevented){syncUrl();return x}}var k=o.when(locals);for(var l=j;l<i.length;l++,state=i[l]){locals=toLocals[l]=inherit(locals);k=resolveState(state,c,state===b,k,locals)}var m=$state.transition=k.then(function(){var l,entering,exiting;if($state.transition!==m)return w;for(l=fromPath.length-1;l>=j;l--){exiting=fromPath[l];if(exiting.self.onExit){q.invoke(exiting.self.onExit,exiting.self,exiting.locals.globals)}exiting.locals=null}for(l=j;l<i.length;l++){entering=i[l];entering.locals=toLocals[l];if(entering.self.onEnter){q.invoke(entering.self.onEnter,entering.self,entering.locals.globals)}}if($state.transition!==m)return w;$state.$current=b;$state.current=b.self;$state.params=c;copy($state.params,s);$state.transition=null;var a=b.navigable;if(d.location&&a){t.url(a.url.format(a.locals.globals.$stateParams));if(d.location==='replace'){t.replace()}}if(d.notify){n.$broadcast('$stateChangeSuccess',b.self,c,e.self,fromParams)}A=t.url();return $state.current},function(a){if($state.transition!==m)return w;$state.transition=null;n.$broadcast('$stateChangeError',b.self,c,e.self,fromParams,a);syncUrl();return o.reject(a)});return m};$state.is=function is(a,b){var c=findState(a);if(!K(c)){return J}if($state.$current!==c){return false}return K(b)&&b!==null?I.equals(s,b):true};$state.includes=function includes(c,d){if(isString(c)&&isGlob(c)){if(doesStateMatchGlob(c)){c=$state.$current.name}else{return false}}var e=findState(c);if(!K(e)){return J}if(!K($state.$current.includes[e.name])){return false}var f=true;I.forEach(d,function(a,b){if(!K(s[b])||s[b]!==a){f=false}});return f};$state.href=function href(a,b,c){c=extend({lossy:true,inherit:false,absolute:false,relative:$state.$current},c||{});var d=findState(a,c.relative);if(!K(d))return null;b=inheritParams(s,b||{},$state.$current,d);var e=(d&&c.lossy)?d.navigable:d;var f=(e&&e.url)?e.url.format(normalize(d.params,b||{})):null;if(!E.html5Mode()&&f){f="#"+E.hashPrefix()+f}if(B!=='/'){if(E.html5Mode()){f=B.slice(0,-1)+f}else if(c.absolute){f=B.slice(1)+f}}if(c.absolute&&f){f=t.protocol()+'://'+t.host()+(t.port()==80||t.port()==443?'':':'+t.port())+(!E.html5Mode()&&f?'/':'')+f}return f};$state.get=function(b,c){if(!K(b)){var d=[];forEach(states,function(a){d.push(a.self)});return d}var e=findState(b,c);return(e&&e.self)?e.self:null};function resolveState(f,g,h,i,j){var k=(h)?g:filterByKeys(f.params,g);var l={$stateParams:k};j.resolve=r.resolve(f.resolve,l,j.resolve,f);var m=[j.resolve.then(function(a){j.globals=a})];if(i)m.push(i);forEach(f.views,function(c,d){var e=(c.resolve&&c.resolve!==f.resolve?c.resolve:{});e.$template=[function(){return p.load(d,{view:c,locals:l,params:k,notify:false})||''}];m.push(r.resolve(e,l,j.resolve,f).then(function(a){if(isFunction(c.controllerProvider)||isArray(c.controllerProvider)){var b=I.extend({},e,l);a.$$controller=q.invoke(c.controllerProvider,null,b)}else{a.$$controller=c.controller}a.$$state=f;a.$$controllerAs=c.controllerAs;j[d]=a}))});return o.all(m).then(function(a){return j})}return $state}function shouldTriggerReload(a,b,c,d){if(a===b&&((c===b.locals&&!d.reload)||(a.self.reloadOnSearch===false))){return true}}}I.module('ui.router.state').value('$stateParams',{}).provider('$state',$StateProvider);$ViewProvider.$inject=[];function $ViewProvider(){this.$get=$get;$get.$inject=['$rootScope','$templateFactory'];function $get(d,e){return{load:function load(a,b){var c,defaults={template:null,controller:null,view:null,locals:null,notify:true,async:true,params:{}};b=extend(defaults,b);if(b.view){c=e.fromConfig(b.view,b.params,b.locals)}if(c&&b.notify){d.$broadcast('$viewContentLoading',b)}return c}}}}I.module('ui.router.state').provider('$view',$ViewProvider);function $ViewScrollProvider(){var d=false;this.useAnchorScroll=function(){d=true};this.$get=['$anchorScroll','$timeout',function(b,c){if(d){return b}return function(a){c(function(){a[0].scrollIntoView()},0,false)}}]}I.module('ui.router.state').provider('$uiViewScroll',$ViewScrollProvider);$ViewDirective.$inject=['$state','$injector','$uiViewScroll'];function $ViewDirective(l,m,n){function getService(){return(m.has)?function(a){return m.has(a)?m.get(a):null}:function(a){try{return m.get(a)}catch(e){return null}}}var o=getService(),$animator=o('$animator'),$animate=o('$animate');function getRenderer(d,e){var f=function(){return{enter:function(a,b,c){b.after(a);c()},leave:function(a,b){a.remove();b()}}};if($animate){return{enter:function(a,b,c){$animate.enter(a,null,b,c)},leave:function(a,b){$animate.leave(a,b)}}}if($animator){var g=$animator&&$animator(e,d);return{enter:function(a,b,c){g.enter(a,null,b);c()},leave:function(a,b){g.leave(a);b()}}}return f()}var p={restrict:'ECA',terminal:true,priority:400,transclude:'element',compile:function(i,j,k){return function(e,f,g){var h,currentEl,currentScope,latestLocals,onloadExp=g.onload||'',autoScrollExp=g.autoscroll,renderer=getRenderer(g,e);e.$on('$stateChangeSuccess',function(){updateView(false)});e.$on('$viewContentLoading',function(){updateView(false)});updateView(true);function cleanupLastView(){if(h){h.remove();h=null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentEl){renderer.leave(currentEl,function(){h=null});h=currentEl;currentEl=null}}function updateView(b){var c=e.$new(),name=currentEl&&currentEl.data('$uiViewName'),previousLocals=name&&l.$current&&l.$current.locals[name];if(!b&&previousLocals===latestLocals)return;var d=k(c,function(a){renderer.enter(a,f,function onUiViewEnter(){if(I.isDefined(autoScrollExp)&&!autoScrollExp||e.$eval(autoScrollExp)){n(a)}});cleanupLastView()});latestLocals=l.$current.locals[d.data('$uiViewName')];currentEl=d;currentScope=c;currentScope.$emit('$viewContentLoaded');currentScope.$eval(onloadExp)}}}};return p}$ViewDirectiveFill.$inject=['$compile','$controller','$state'];function $ViewDirectiveFill(j,k,l){return{restrict:'ECA',priority:-400,compile:function(h){var i=h.html();return function(a,b,c){var d=c.uiView||c.name||'',inherited=b.inheritedData('$uiView');if(d.indexOf('@')<0){d=d+'@'+(inherited?inherited.state.name:'')}b.data('$uiViewName',d);var e=l.$current,locals=e&&e.locals[d];if(!locals){return}b.data('$uiView',{name:d,state:locals.$$state});b.html(locals.$template?locals.$template:i);var f=j(b.contents());if(locals.$$controller){locals.$scope=a;var g=k(locals.$$controller,locals);if(locals.$$controllerAs){a[locals.$$controllerAs]=g}b.data('$ngControllerController',g);b.children().data('$ngControllerController',g)}f(a)}}}}I.module('ui.router.state').directive('uiView',$ViewDirective);I.module('ui.router.state').directive('uiView',$ViewDirectiveFill);function parseStateRef(a){var b=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!b||b.length!==4)throw new Error("Invalid state ref '"+a+"'");return{state:b[1],paramExpr:b[3]||null}}function stateContext(a){var b=a.parent().inheritedData('$uiView');if(b&&b.state&&b.state.name){return b.state}}$StateRefDirective.$inject=['$state','$timeout'];function $StateRefDirective(o,p){var q=['location','inherit','reload'];return{restrict:'A',require:'?^uiSrefActive',link:function(c,d,f,g){var h=parseStateRef(f.uiSref);var i=null,url=null,base=stateContext(d)||o.$current;var j=d[0].nodeName==="FORM";var k=j?"action":"href",nav=true;var l={relative:base};var m=c.$eval(f.uiSrefOpts)||{};I.forEach(q,function(a){if(a in m){l[a]=m[a]}});var n=function(a){if(a)i=a;if(!nav)return;var b=o.href(h.state,i,l);if(g){g.$$setStateInfo(h.state,i)}if(!b){nav=false;return false}d[0][k]=b};if(h.paramExpr){c.$watch(h.paramExpr,function(a,b){if(a!==i)n(a)},true);i=c.$eval(h.paramExpr)}n();if(j)return;d.bind("click",function(e){var a=e.which||e.button;if(!(a>1||e.ctrlKey||e.metaKey||e.shiftKey||d.attr('target'))){p(function(){o.go(h.state,i,l)});e.preventDefault()}})}}}$StateActiveDirective.$inject=['$state','$stateParams','$interpolate'];function $StateActiveDirective(g,h,i){return{restrict:"A",controller:['$scope','$element','$attrs',function(c,d,e){var f,params,activeClass;activeClass=i(e.uiSrefActive||'',false)(c);this.$$setStateInfo=function(a,b){f=g.get(a,stateContext(d));params=b;update()};c.$on('$stateChangeSuccess',update);function update(){if(g.$current.self===f&&matchesParams()){d.addClass(activeClass)}else{d.removeClass(activeClass)}}function matchesParams(){return!params||equalForKeys(params,h)}}]}}I.module('ui.router.state').directive('uiSref',$StateRefDirective).directive('uiSrefActive',$StateActiveDirective);$IsStateFilter.$inject=['$state'];function $IsStateFilter(b){return function(a){return b.is(a)}}$IncludedByStateFilter.$inject=['$state'];function $IncludedByStateFilter(b){return function(a){return b.includes(a)}}I.module('ui.router.state').filter('isState',$IsStateFilter).filter('includedByState',$IncludedByStateFilter);$RouteProvider.$inject=['$stateProvider','$urlRouterProvider'];function $RouteProvider(k,l){var m=[];onEnterRoute.$inject=['$$state'];function onEnterRoute(a){this.locals=a.locals.globals;this.params=this.locals.$stateParams}function onExitRoute(){this.locals=null;this.params=null}this.when=when;function when(c,d){if(d.redirectTo!=null){var e=d.redirectTo,handler;if(isString(e)){handler=e}else if(isFunction(e)){handler=function(a,b){return e(a,b.path(),b.search())}}else{throw new Error("Invalid 'redirectTo' in when()");}l.when(c,handler)}else{k.state(inherit(d,{parent:null,name:'route:'+encodeURIComponent(c),url:c,onEnter:onEnterRoute,onExit:onExitRoute}))}m.push(d);return this}this.$get=$get;$get.$inject=['$state','$rootScope','$routeParams'];function $get(g,h,i){var j={routes:m,params:i,current:J};function stateAsRoute(a){return(a.name!=='')?a:J}h.$on('$stateChangeStart',function(a,b,c,d,e){h.$broadcast('$routeChangeStart',stateAsRoute(b),stateAsRoute(d))});h.$on('$stateChangeSuccess',function(a,b,c,d,e){j.current=stateAsRoute(b);h.$broadcast('$routeChangeSuccess',stateAsRoute(b),stateAsRoute(d));copy(c,j.params)});h.$on('$stateChangeError',function(a,b,c,d,e,f){h.$broadcast('$routeChangeError',stateAsRoute(b),stateAsRoute(d),f)});return j}}I.module('ui.router.compat').provider('$route',$RouteProvider).directive('ngView',$ViewDirective)})(window,window.angular);